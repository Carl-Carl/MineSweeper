给项目取个名字呗

# Game Rules & Logic

游戏可能处于三种状态，初始，进行中，游戏结束，其中游戏结束可细分为赢和输

状态转换的事件：

- 初始 > 进行中：玩家在空白的面板上第一次点击了某一个方格（初始化在此处执行）
- 进行中 > 初始：玩家主动点击重开
- 游戏结束 > 初始：玩家主动点击重开
- 进行中 > 游戏结束：玩家左键了某个单元格后，若 (1) 它是雷，或 (2) 点击后**所有非雷方格都已探索**

初始：

- 玩家点击任意一个方格以开始游戏。一旦一个方格被点击，游戏先执行初始化
  - 随机生成一个雷盘，保证被点击的地方是数字 0
  - 初始化相关变量
  - 开始计时器
  - 进入【进行中】状态
- 玩家可以通过菜单栏修改游戏设置等（其他状态也可以）

进行中：

- 玩家可以重新开始游戏，即回到【初始状态】
- 点击任一数字方格：
  - 执行双键操作（按键情况根据实际情况而定），双键操作涉及探索操作
- 点击任一未探索方格：
  - 左键 执行探索操作，这个的实现逻辑较复杂，暂略；若**触雷**或**满足胜利条件**，则进入【游戏结束状态】
  - 右键 将它变为标旗帜方格
- 点击任一标旗帜方格：
  - 左键 不做反应
  - 右键 将它变为未探索方格

游戏结束：

- 停止计时器
- 根据游戏结果进行相应的反馈

**有关定义&杂项说明**

- 雷盘的生成逻辑不再赘述。雷盘分为两种，**答案雷盘**和**显示雷盘**（必须分别存储），在答案雷盘中，单元格(cell)只能为 0-8 的数字或雷；在显示雷盘中，单元格只能为 0-8 数字 / 未探索方格 / 标旗帜方格。
- **游戏设置**：基础三项，长/宽/雷数，提供初级中级高级三组默认值。
- **胜利条件**：显示雷盘中所有数字单元格(0-8)的个数 + 游戏设置中的雷数 == 长 × 宽
- FirstClick 玩家第一次点击的单元格位置。根据原版/win7 规则，FirstClick 不能是雷/非零数字

# 参考算法（伪代码）

算法1 - 雷盘初始化

```
所有单元格置为0
重复 MINES 次:
	x := random [0, 宽度)
	y := random [0, 高度)
	if 单元格 (x,y) 处是雷 then 重新为x,y赋值
	将单元格 (x,y) 置为雷
for each x, y:
	if 单元格(x,y)是雷 then continue
	number := 0
	for each 与(x,y)相邻的单元格p（注意边界检查）:
		if 单元格p是雷:
			number += 1
	将单元格(x,y)置为number
```

算法2 - 探索行为

该算法设置两个子过程，第一个过程主要负责判断游戏状态变化，而第二个过程以递归方式实际执行探索

```
function explore(x, y)
	if (x,y)超出了雷盘边界 then return 失败
	if 游戏状态 != 进行中 then return 失败
	cell := 答案盘中的(x,y)值
	if cell == 雷 then 更新游戏状态为LOSE
	else:
		exploreSafeCell(x, y)
		判断游戏胜利条件
	return OK

function exploreSafeCell(x, y)
	seen_cell := 显示盘中的(x ,y)值
	if seen_cell != 未探索方格:
		不做任何事情并返回
	real_cell := 答案盘中的(x,y)值
	if real_cell == 空白格，即数字0:
		将显示盘中的该方格置为数字0
		for each (x,y)的相邻格p:
			对单元格p调用exploreSafeCell
	else:
		将答案盘中的该方格复制给显示盘
```

# Features

游戏核心

- [ ] **界面设计与布局**
- [ ] **能够根据状态和变量显示出相应的界面元素**
- [ ] 在菜单栏能设置初级/中级/高级
- [ ] 能根据 FirstClick 初始化游戏
- [ ] 能重新开始游戏
- [ ] 能正确接受方格的点击
- [ ] 能正确处理方格的点击，包括以下三类操作
- [ ] 探索操作（涉及递归，最复杂）
- [ ] 标雷/取消操作
- [ ] 双键操作
- [ ] 能在每次操作后判断出游戏 继续 / 失败 / 获胜

其他功能，难度不等

- [ ] 在菜单栏能设置自定义
- [ ] 实时显示计时器 + 剩余雷数量
- [ ] 能调整窗口大小，里面的窗口元素自动适应，例如全屏
- [ ] 点击音效、爆炸音效
- [ ] 积分榜
- [ ] 自动求解（求解程序每 100 毫秒操作一次，让人能看清）
- [ ] 提示功能：在人玩的时候能获得提示，哪个是雷，哪个不是，原则是提示功能必须提供逻辑可推导的解，不能直接从答案盘拿，不然提示没有意义

